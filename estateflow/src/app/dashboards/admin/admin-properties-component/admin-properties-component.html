<div class="page-title">
    <div class="text">
        <h3>Property Management</h3>
    </div>

    <div class="date">
        <span class="">12 March 2025</span>
    </div>
</div>

<!-- search filter    -->
<div class="search-title-filter">
    <div class="title flex">
         <div class="search">
        <input type="text" class="textBox view-all" placeholder="Search...">
    </div>

          <div class="filter">
        <select name="" id="" class="view-all">
            <option value="">--Bulk Action--</option>
            <option value="">Admin</option>
            <option value="">Agents</option>
            <option value="">Buyers</option>
        </select>
        <div class="filter-icon view-all"><i class="fa-solid fa-filter"></i><p>Filter</p></div>
         <select name="" id="" class="view-all">
            <option value="">--Select Role--</option>
            <option value="">Admin</option>
            <option value="">Agents</option>
            <option value="">Buyers</option>
        </select>
    </div>
    </div>
</div>

<!-- all properties  -->
<div class="admin-properties">
    @if (isLoading && properties.length == 0) {
        <div class="loading">
            <div class="loader"></div>
        </div>
    }@else {
 <div class="listed-properties">
  <div class="box card" *ngFor="let item of properties">
        <div class="box-img"> 
            <img [src]="`${getImageUrl(item?.imageUrl)}`" alt={{item?.title}} class="img-box">
            @if (item.status == "Pending") {
                                         <span class="status" style="color: orange;"><span class="dot" style="background-color: orange;"></span>{{item.status}}</span>
                                }@else if (item.status == "Approved") {
                                         <span class="status" style="color: green;"><span class="dot" style="background-color: green;"></span>{{item.status}}</span>
                                }
                  <div class="agent-details">
                    <div class="box-img"><img [src]="`${getImageUrl(item?.agentImageUrl)}`" alt="" class="img-box"></div>
                </div>
        </div>
        <div class="text-box">
            <h3>{{item.title}}</h3>
              <h2>{{item.price | currency: "R"}}</h2>
            <p>{{item.address}}</p>
             <ul>
                    <li><i class="fa-solid fa-bed"></i>{{item.bedrooms}}</li>
                    <li><i class="fa-solid fa-sink"></i>{{item.bathrooms}}</li>
                    <li><i class="fa-solid fa-ruler-combined"></i>{{item.size}}(m<sup>2</sup>)</li>
                    <li><i class="fa-solid fa-eye"></i>407</li>
                </ul>

              
                <div class="buttons">
                        <button class="btn view-all">View Details <i class="fa-solid fa-eye"></i></button>
                        @if(item.status ==="Pending"){
                            <button class="btn" (click)="updateStatus(item.id, 'Approved')">Approve<i class="fa-solid fa-thumbs-up"></i></button>
                        }
                </div>
        </div>
    </div>
  
</div>
    }
    
</div>